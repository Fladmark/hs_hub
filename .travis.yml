language: node_js

node_js:
  - "9"

services:
  - mysql
  - postgresql

before_install:
 - CREATE TABLE public.user_user (
    id integer NOT NULL DEFAULT nextval('user_user_id_seq'::regclass),
    password character varying(128) COLLATE pg_catalog."default" NOT NULL,
    last_login timestamp with time zone,
    email character varying(255) COLLATE pg_catalog."default" NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    email_verified boolean NOT NULL,
    is_active boolean NOT NULL,
    is_volunteer boolean NOT NULL,
    is_organizer boolean NOT NULL,
    is_director boolean NOT NULL,
    is_admin boolean NOT NULL,
    created_time timestamp with time zone NOT NULL,
    is_hardware_admin boolean NOT NULL,
    CONSTRAINT user_user_pkey PRIMARY KEY (id),
    CONSTRAINT user_user_email_key UNIQUE (email)
  );' -U postgres;
install:
 - npm i
 - npm i -g codeclimate-test-reporter

script:
 - npm run test:coverage

notifications:
  email: false