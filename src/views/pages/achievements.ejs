<!DOCTYPE html>
<html lang="en">

<head>
  <% include ../partials/head.ejs %>
  <title>GUH18 Hub - Achievements</title>
  <link rel="stylesheet" href="/css/hardware.css">
  <!-- <script src="/js/hardware.js"></script> -->
</head>

<body>
  <div class="wrapper">
    <% include ../partials/navbar.ejs %>
    <div class="main-panel">
      <div class="content">
        <div class="container-fluid">
          <div class="row">
            <% allAchievements.forEach(achievement => { %>
            <div class="col-lg-3 col-md-6">
              <div class="card h-75">
                <% var complete = progress[achievement.id] == achievement.maxProgress; %>
                <% var header = complete ? "card-header-success" : "card-header-info";  %>
                <div class="card-header <%= header %>">
                  <h4 class="card-title text-center">
                    <%- achievement.title %>
                  </h4>
                </div>
                <div class="item-content">
                  <ul class="list-group list-group-flush">

                    <li class="list-group-item">
                      <div class="card-text text-center">
                        <h5> <%- achievement.description %> </h5>
                      </div>
                    </li>

                    <li class="list-group-item">
                      <% var progressPercent = Math.round(progress[achievement.id] * 100 / achievement.maxProgress) %>
                      <div class="card-text text-center">
                        <h5> Progress: </h5>
                        <div class="progress">
                          <div class="progress-bar" role="progressbar" style="width: <%= progressPercent %>%;" aria-valuenow="<%= progressPercent %>" aria-valuemin="0" aria-valuemax="100"><%= progressPercent %>%</div>
                        </div>
                      </div>
                    </li>

                    <% if (complete) { %>
                      <li class="list-group-item">
                        <div class="card-text text-center">
                          <h3 class="font-weight-bold"> Achievement Complete! </h3>
                        </div>
                      </li>
                    <% } %>
                  </ul>
                </div>
              </div>
            </div>
            <% }); %>
          </div>
        </div>
      </div>
      <% include ../partials/footer.ejs %>
      <script>
        const x = new Date().getFullYear();
        let date = document.getElementById('date');
        date.innerHTML = '&copy; ' + x + date.innerHTML;
      </script>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="/js/core/jquery.min.js"></script>
  <script src="/js/core/popper.min.js"></script>
  <script src="/js/core/bootstrap-material-design.min.js"></script>
  <script src="https://unpkg.com/default-passive-events"></script>
  <script src="/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Chartist JS -->
  <script src="/js/plugins/chartist.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="/js/material-dashboard.js?v=2.1.0"></script>
  <script src="/js/animations.js"></script>
  <script src="/js/hardwareAdmin.js"></script>
</body>
</html>