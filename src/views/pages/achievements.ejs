<!DOCTYPE html>
<html lang="en">

<head>
  <% include ../partials/head.ejs %>
  <title>GUH18 Hub - Achievements</title>
  <link rel="stylesheet" href="/css/hardware.css">
  <!-- <script src="/js/hardware.js"></script> -->
</head>

<body>
  <div class="wrapper">
    <% include ../partials/navbar.ejs %>
    <div class="main-panel">
      <div class="content">
        <div class="container-fluid">
          <div class="row">
            <% achievements.forEach(achievement => { %>
            <div class="col-lg-3 col-md-6">
              <div class="card h-75">
                <% const complete = progress.get(achievement.getId()).getProgress() == achievement.getMaxProgress(); %>
                <% const header = complete ? "card-header-warning" : "card-header-success";  %>
                <div class="card-header <%= header %>">
                  <h4 class="card-title text-center">
                    <%= achievement.getTitle() %>
                  </h4>
                </div>
                <div class="item-content">
                  <ul class="list-group list-group-flush">

                    <li class="list-group-item">
                      <div class="card-text text-center">
                        <h5> <%= achievement.getDescription() %> </h5>
                      </div>
                    </li>

                    <li class="list-group-item">
                      <% const progressPercent = Math.round(progress.get(achievement.getId()).getProgress() * 100 / achievement.getMaxProgress()) %>
                      <div class="card-text text-center">
                        <h5> Progress: </h5>
                        <div class="progress">
                          <div class="progress-bar" role="progressbar" style="width: <%= progressPercent %>%;" aria-valuenow="<%= progressPercent %>" aria-valuemin="0" aria-valuemax="100"><%= progressPercent %>%</div>
                        </div>
                      </div>
                    </li>

                    <% if (complete) { %>
                      <li class="list-group-item">
                        <div class="card-text text-center">
                          <h3 class="font-weight-bold"> Achievement Complete! </h3>
                        </div>
                        <div class="card-text text-center">
                          <h5>You can claim your prize at the hardware library.</h5>
                        </div>
                      </li>
                    <% } %>
                  </ul>
                </div>
              </div>
            </div>
            <% }); %>
          </div>
        </div>
      </div>
      <% include ../partials/footer.ejs %>
    </div>
  </div>
</body>
</html>